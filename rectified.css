/**
 * @name Discord rectified
 * @version 1.3.2
 * @description A theme based on Discord the way it should be.
 * @author lunaberry_ & femboyfin
 */


:root {
    /* --- Config --- */
    --remove-inbox-button: none;        /* accepted values (none, visible) */
    --remove-help-button:  none;        /* accepted values (none, visible) */
    --code-block-background: #121214; /* Code block background color */
    --user-area-background: #121214;  /* User area background color */
    --main-ui-background: #121214;    /* Main UI background color */
    --chat-background: #1a1a1e;       /* Chat background color */

    /* --- Experimental Config --- */
    --primary-sidebar-resizer: visible;  /* accepted values (none, visible) */
}


/* --- Title bar --- */

/* Revert DVR title bar changes */
.bar_c38106 { position: unset !important; } /* Removes title */
.visual-refresh .base_c48ade { grid-template-rows: [top] 25px [titleBarEnd] min-content [noticeEnd] 1fr [end]; }
.winButton_c38106 { margin-top: 10px; }
.winButtonsWithDivider_c38106:before { margin-top: 10px; }
.trailing_c38106, .winButtons_c38106 {
    justify-content: flex-end;
    margin-top: -10px;
}

[aria-label="Inbox"] { display: var(--remove-inbox-button) !important; } /* Remove the Inbox button */
[aria-label="Help"]  { display: var(--remove-help-button)  !important; } /* Remove the Help button */

.notice__6e2b9 { /* Integrate banner notices into the title bar */
    margin-top: -1%;
    margin-right: 15%;
}

/* --- Serverbar --- */
.visual-refresh .guilds_c48ade { height: 200% !important; } /* Revert DVR change preventing serverbar list entries from going below the height of the User Area */
div.itemsContainer_ef3116>div>div:has(div[class="pill__5bc7e"]) { display: none; } /* Remove "Discover" button */


/* --- Primary sidebar --- */
.visual-refresh .sidebarResizeHandle_c48ade { display: var(--primary-sidebar-resizer) !important; } /* Controls sidebar resizability */
[href="/store"] { display: none !important; } /* Remove Nitro tab */
[href="/shop"]  { display: none !important; }  /* Remove Shop tab */


/* --- User Area --- */
.visual-refresh .panels_c48ade { /* Reverts the DVR change making the User Area overflow into the Serverbar */
    width: calc(var(--custom-guild-sidebar-width) - var(--custom-guild-list-width));
    margin-left: 64px;
    border-radius: 0px !important;
    bottom: 0px !important;
}

/* Button removal */
[class="actionButtons_e131a9"] div:has(button[aria-label="Open Soundboard"]) { display: none; } /* Soundboard */
button[aria-label="Start An Activity"] { display: none !important; }                            /* Activities (English, US)*/
button[aria-label="Start an Activity"] { display: none !important; }                            /* Activities (English, UK)*/
button[aria-label="Noise Suppression powered by Krisp"] { display: none; }                      /* Krisp */
button[aria-label="Turn On Camera"] { display: none; }                                          /* Camera */

/* Move Screenshare button in line with the disconnect button */
.actionButtons_e131a9 {
    grid-template-columns: none;
    justify-content: right;
    margin-right: 60px
}

button[aria-label="Share Your Screen"] {
    width: 9%;
    margin-top: -50px;
    margin-left: 80%;
    background-color: transparent !important;
    border-color: transparent !important;
}

button[aria-label="Share Your Screen"]:hover { background-color: rgba(255, 255, 255, 0.15) !important; }

button.experimentButton_e131a9 > div > div > svg {
    position: absolute;
    width: 60% !important;
    margin-left: -30%;
    margin-top: -15%;
}

/* --- Chat interface --- */
.visual-refresh .chatContent_f75fb0 {
    background-color: var(--chat-background) !important; }

/* --- Code blocks --- */
.visual-refresh .markup__75297 code { background-color: var(--code-block-background) !important; }
/* --- Main UI --- */
.visual-refresh .bg__960e4 { background-color: var(--main-ui-background) !important; } /*Title bar*/
.visual-refresh .guilds_c48ade { background-color: var(--main-ui-background) !important; } /*Serverbar*/
/* --- Other Tweaks --- */
.iconDisabled__9293f { display: none !important; } /* Remove disabled icons (e.g. show user profile when you're in a call with that person) */
em .emoji { transform: skew(-14deg); } /* Make markdown italicization apply to emojis */



/* TODO

- User Area Button removal for the Camera also removes the camera button from call UI
- Variablize most tweaks for easier customization
- Adjust blurple color to match pre-2021 branding (maybe logo/wordmark too?)
- Apply emoji italicization apply in the Text Area formatting preview, not just in the sent message
*/
